NIMRS-Firmware Development Environment (ESP32-S3)
------------------------------------------------
Arduino CLI is wrapped with libraries and platform.

Commands available:
  build-firmware            : Build the firmware from current directory
  upload-firmware <port|IP> : Upload the firmware (e.g. /dev/ttyACM0 or IP)
  monitor-firmware <port|IP>: Monitor logs (Serial or WiFi)
  nimrs-telemetry <IP>      : Stream live motor debug data (WiFi)
  nimrs-logs <IP>           : Stream text logs (WiFi)
  run-tests                 : Run host-side unit tests
  ci-ready                  : Run formatting, tests, and build to verify CI readiness
  agent-check               : Run ci-ready + check for merge conflicts (REQUIRED for Agents)
  analyze-coredump <args>   : Analyze core dump (installs esp-coredump in venv)
  treefmt                   : Format all code (C++, JSON, MD)
  sync-libs                 : Sync libs from common-libs.nix to platformio.ini
  nix build                 : Clean build of the firmware
  nix build .#tests         : Build and run tests in a sandbox
=== Running Agent Pre-Submission Check ===
--------------------------------
1. Merging with origin/main...
From https://github.com/ProjectInitiative/NIMRS-Firmware
 * branch            main       -> FETCH_HEAD
Attempting to merge origin/main into jules-13711692866853576169-e0f184cc...
Already up to date.
âœ” Merge check passed: Successfully merged origin/main.
--------------------------------
2. Verifying CI Readiness on merged result...
1. Checking Git Status...
Error: Working directory is dirty. Please commit all changes before running ci-ready.
On branch jules-13711692866853576169-e0f184cc
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	agent_check.log

nothing added to commit but untracked files present (use "git add" to track)
